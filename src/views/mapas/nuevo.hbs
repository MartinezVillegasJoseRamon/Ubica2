
{{!-- La cabecera del formulario la controlamos con un fetch para obtener los errores --}}
<form id="formNuevo" action="/mapas/upload" method="POST" enctype="multipart/form-data">
    <div class="row">

        {{!-- MAPA --}}
        <div class="card col-lg-6 mr-auto">
            {{!-- Cargamos el mapa --}}
            <div class="card" id="map">
            </div>
        </div>

        {{!-- IMAGEN --}}
        <div class="card col-lg-3 mr-auto">
            {{!-- Cargamos la imagen --}}
            <div class="card-body text-center">
                <label for="imagenThumbnail" id="labelFoto">Foto de la ubicación</label>
                <img class="img-fluid d-block mx-auto" style= "max-height: 200px" id="imagenThumbnail" src="/img/noimg.jpg" alt="Imagen subida">
            </div>
            {{!-- Valores EXIF de la foto --}}
            <div class="card-body text-center">
                <input type="button" id="botExif" value="Ver EXIF">
            </div>

            <div class="card-footer">
                <label for="inputTitulo" id="labelInputTitulo">Titulo de la imagen</label>
                <input type="text" class="form-control text-center m-2" id="inputTitulo" placeholder="Titulo" name="titulo" required>
                <label for="inputFechaFoto" id="labelinputFechaFoto">Fecha de la foto</label>
                <input type="date" class="form-control text-center m-2" id="inputFechaFoto" name="fecha_foto">

                <div class="custom-file ">
                    <input type="file" class="custom-file-input mt-2" id="inputSubirImagen" accept=".jpeg, .jpg"
                        name="imagen" required>
                    <label class="custom-file-label mt-2" for="inputSubirImagen" id="labelInputSubirImagen">Elegir archivo (Tamaño max. 3Mb)</label>
                </div>
            </div>

        </div>

        {{!-- CARACTERISTICAS --}}
        <div class="card col-lg-3 mr-auto">

            <div class="card-body text-center">
                {{!-- Cargamos los filtros --}}
                <div class="form-group">
                    <label for="inputLat">Latitud</label>
                    <input type="number" class="form-control text-center" id="inputLat" placeholder="Latitud"
                        name="latitud" step="0.000000000000001" min="-90" max="90" required>
                    <label for="inputLng">Longitud</label>
                    <input type="number" class="form-control text-center" id="inputLng" placeholder="Longitud"
                        name="longitud" step="0.000000000000001" min="-180" max="180" required>
                    <label for="inputAutor">Autor</label>
                    <input type="text" class="form-control text-center" id="inputAutor" placeholder="Autor" name="autor"
                        readonly>

                    <label for="tipo_fotografia">Tipo de foto</label>
                    <select id="tipo_fotografia" class="custom-select mb-2" name="tipo_fotografia" required>
                        <option selected="true"></option>
                        <option value="paisaje">Paisaje</option>
                        <option value="macro">Macro</option>
                        <option value="nocturna">Nocturna</option>
                        <option value="LP">Light Painting</option>
                        <option value="ruinas">Ruinas</option>
                        <option value="ciudad">Ciudad</option>
                        <option value="costa">Costa</option>
                        <option value="todas">Todas</option>
                    </select>
                    <label for="inputDireccion">Dirección</label>
                    <input type="text" class="form-control text-center" id="inputDireccion" placeholder="Dirección"
                        name="direccion">
                    <label for="inputAcceso">Acceso</label>
                    <textarea class="form-control text-left" id="inputAcceso" rows="5" placeholder="Acceso"
                        name="acceso" required></textarea>
                </div>

            </div>
            <div class="card-footer">
                <button type="submit" id="enviar" class="btn btn-success d-block mx-auto my-2">Insertar nueva ubicación
                <button type="button" id="botSalir" class="btn btn-danger d-block mx-auto">Cancelar
            </div>
        </div>

    </div>
</form>

    
    {{!-- Script para extraer datos EXIF de la foto --}} 
    <script src="https://unpkg.com/exif-js@2.3.0"></script> 

    {{!-- Script para crear mapa --}}
    <script src="/js/vistaMapa.js"></script>

    <script src="/js/mapa_nuevo.js"></script>



